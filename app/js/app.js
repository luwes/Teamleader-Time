!function e(t,n,s){function r(o,i){if(!n[o]){if(!t[o]){var u="function"==typeof require&&require;if(!i&&u)return u(o,!0);if(a)return a(o,!0);var l=new Error("Cannot find module '"+o+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[o]={exports:{}};t[o][0].call(c.exports,function(e){var n=t[o][1][e];return r(n?n:e)},c,c.exports,e,t,n,s)}return n[o].exports}for(var a="function"==typeof require&&require,o=0;o<s.length;o++)r(s[o]);return r}({1:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=nodeRequire("nw.gui"),a=function o(){s(this,o);var e=new r.Menu({type:"menubar"});try{e.createMacBuiltin("Teamleader Time",{hideEdit:!1}),r.Window.get().menu=e}catch(t){console.log(t.message)}};n["default"]=a,t.exports=n["default"]},{}],2:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var a=e("react"),o=s(a),i=e("react-router"),u=s(i),l=e("./components/TeamleaderTimeApp.react"),c=s(l),d=e("./components/Tracker.react"),f=s(d),p=e("./components/Settings.react"),h=s(p),m=function g(){r(this,g);var e=o["default"].createElement(i.Route,{name:"app",path:"/",handler:c["default"]},o["default"].createElement(i.Route,{name:"settings",handler:h["default"]}),o["default"].createElement(i.DefaultRoute,{name:"tracker",handler:f["default"]}));u["default"].run(e,function(e){o["default"].render(o["default"].createElement(e,null),document.body)})};n["default"]=m,t.exports=n["default"]},{"./components/Settings.react":9,"./components/TeamleaderTimeApp.react":12,"./components/Tracker.react":14,react:"react","react-router":"react-router"}],3:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){p?f.hide():o.apply(this,[e.x,e.y]),p=!p}function o(e,t){f.moveTo(e-c["default"](".app").width()/2-6,t),u(),f.show(),f.focus()}function i(){}function u(){var e=c["default"](".app").height()+100,t=c["default"](".app").width()+40;(m!=t||h!=e)&&(f.resizeTo(t,e),m=t,h=e)}Object.defineProperty(n,"__esModule",{value:!0});var l=e("jquery"),c=s(l),d=nodeRequire("nw.gui"),f=d.Window.get(),p=!1,h=0,m=0,g=function S(){r(this,S);var e=new d.Tray({title:"",icon:"images/icon.png",alticon:"images/icon.png",iconsAreTemplates:!1});e.on("click",a),f.on("blur",i),function t(){requestAnimationFrame(t),u()}(),o(100,100)};n["default"]=g,t.exports=n["default"]},{jquery:"jquery"}],4:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e){u["default"].dispatch({type:c["default"].SAVE_SETTINGS,data:e})}function a(){o.apiRequest({url:"/getUsers.php",success:function(e){u["default"].dispatch({type:c["default"].RECEIVE_USERS,data:e})}})}Object.defineProperty(n,"__esModule",{value:!0}),n.saveSettings=r,n.getUsers=a;var o=e("../utils/Utils"),i=e("../dispatcher/AppDispatcher"),u=s(i),l=e("../constants/SettingsConstants"),c=s(l)},{"../constants/SettingsConstants":16,"../dispatcher/AppDispatcher":18,"../utils/Utils":29}],5:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(){S.apiRequest({url:"/getProjects.php",data:{show_active_only:1,amount:100,pageno:0},success:function(e){var t=g.where(e,{phase:"active"});_["default"].dispatch({type:E["default"].RECEIVE_PROJECTS,data:t})}})}function a(e){_["default"].dispatch({type:E["default"].SET_PROJECT,id:e})}function o(e){e>0&&S.apiRequest({url:"/getProject.php",data:{project_id:e},success:function(e){_["default"].dispatch({type:E["default"].SET_CONTACT_OR_COMPANY,option:e.contact_or_company,id:e.contact_or_company_id})}})}function i(e){e>0&&S.apiRequest({url:"/getMilestonesByProject.php",data:{project_id:e},success:function(e){var t=g.where(e,{closed:0});_["default"].dispatch({type:E["default"].RECEIVE_MILESTONES,data:t})}})}function u(e){_["default"].dispatch({type:E["default"].SET_MILESTONE,id:e})}function l(e){e>0&&S.apiRequest({url:"/getTasksByMilestone.php",data:{milestone_id:e},success:function(e){var t=g.where(e,{done:0}),n=JSON.parse(localStorage.getItem("settings"));n&&n.userName&&(t=g.where(t,{owner_name:n.userName})),_["default"].dispatch({type:E["default"].RECEIVE_MILESTONE_TASKS,data:t})}})}function c(e){_["default"].dispatch({type:E["default"].SET_MILESTONE_TASK,id:e})}function d(){S.apiRequest({url:"/getTaskTypes.php",success:function(e){_["default"].dispatch({type:E["default"].RECEIVE_TASK_TYPES,data:e})}})}function f(e){_["default"].dispatch({type:E["default"].SET_TASK_TYPE,id:e})}function p(e){_["default"].dispatch({type:E["default"].SET_TASK_DESCRIPTION,txt:e})}function h(e){_["default"].dispatch({type:E["default"].START_TIMER,timestamp:e})}function m(e){_["default"].dispatch({type:E["default"].STOP_TIMER,timestamp:e})}Object.defineProperty(n,"__esModule",{value:!0}),n.getProjects=r,n.setProject=a,n.getProjectDetails=o,n.getMilestones=i,n.setMilestone=u,n.getMilestoneTasks=l,n.setMilestoneTask=c,n.getTaskTypes=d,n.setTaskType=f,n.setTaskDescription=p,n.startTimer=h,n.stopTimer=m;var g=e("underscore"),S=e("../utils/Utils"),T=e("../dispatcher/AppDispatcher"),_=s(T),v=e("../constants/TrackerConstants"),E=s(v)},{"../constants/TrackerConstants":17,"../dispatcher/AppDispatcher":18,"../utils/Utils":29,underscore:"underscore"}],6:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),a=s(r),o=e("../actions/TrackerActions"),i=e("../stores/ProjectStore"),u=s(i),l=e("../stores/MilestoneStore"),c=s(l),d=e("./SelectInput.react"),f=s(d),p=a["default"].createClass({displayName:"MilestoneSelectContainer",getMilestonesState:function(){return{milestones:c["default"].getMilestones(),milestone:c["default"].getMilestoneId()}},getInitialState:function(){return this.getMilestonesState()},_onChange:function(){this.isMounted()&&this.setState(this.getMilestonesState())},componentDidMount:function(){o.getMilestones(u["default"].getProjectId()),c["default"].addChangeListener(this._onChange)},componentWillUnmount:function(){c["default"].removeChangeListener(this._onChange)},handleChange:function(e){var t=e.currentTarget;o.setMilestone(t.value)},render:function(){return 0===this.state.milestones.length?null:a["default"].createElement("div",{className:"form-group"},a["default"].createElement("label",{className:"col-xs-3 control-label",htmlFor:"milestone"},"Milestone"),a["default"].createElement("div",{className:"col-xs-6"},a["default"].createElement(f["default"],{id:"milestone",ref:"milestone",value:this.state.milestone,options:this.state.milestones,onChange:this.handleChange})))}});n["default"]=p,t.exports=n["default"]},{"../actions/TrackerActions":5,"../stores/MilestoneStore":20,"../stores/ProjectStore":22,"./SelectInput.react":8,react:"react"}],7:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),a=s(r),o=e("underscore"),i=e("../actions/TrackerActions"),u=e("../stores/ProjectStore"),l=s(u),c=e("./SelectInput.react"),d=s(c),f=a["default"].createClass({displayName:"ProjectSelectContainer",getProjectsState:function(){return{projects:l["default"].getProjects(),project:l["default"].getProjectId()}},getInitialState:function(){return this.getProjectsState()},_onChange:function(){this.isMounted()&&this.setState(this.getProjectsState())},componentDidMount:function(){i.getProjects(),l["default"].addChangeListener(this._onChange)},componentWillUnmount:function(){l["default"].removeChangeListener(this._onChange)},handleChange:function(e){var t=e.currentTarget;i.setProject(t.value)},render:function(){var e=o.clone(this.state.projects);return e.length>0&&e.unshift({id:0,title:"Choose..."}),a["default"].createElement("div",{className:"form-group"},a["default"].createElement("label",{className:"col-xs-3 control-label",htmlFor:"project"},"Project"),a["default"].createElement("div",{className:"col-xs-6"},a["default"].createElement(d["default"],{id:"project",ref:"project",value:this.state.project,options:e,onChange:this.handleChange})))}});n["default"]=f,t.exports=n["default"]},{"../actions/TrackerActions":5,"../stores/ProjectStore":22,"./SelectInput.react":8,react:"react",underscore:"underscore"}],8:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a=e("react"),o=s(a),i=e("../utils/Utils"),u=o["default"].createClass({displayName:"SelectInput",getDefaultProps:function(){return{valueKey:"id",labelKey:"title"}},render:function(){var e=this,t=this.props.options.map(function(t){var n=t[e.props.valueKey],s=t[e.props.labelKey];return o["default"].createElement("option",{key:n,value:n},i.htmlEntities(s))});return o["default"].createElement("select",r({},this.props,{className:"form-control"}),t)}});n["default"]=u,t.exports=n["default"]},{"../utils/Utils":29,react:"react"}],9:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("jquery"),a=s(r),o=e("react"),i=s(o),u=e("react-router"),l=(s(u),e("../stores/SettingsStore")),c=s(l),d=e("../stores/SettingsUsersStore"),f=(s(d),e("../actions/SettingsActions")),p=e("./TextInput.react"),h=s(p),m=e("./SelectInput.react"),g=(s(m),e("./UserSelectContainer.react")),S=s(g),T=i["default"].createClass({displayName:"Settings",getInitialState:function(){return c["default"].getSettings()},_onChange:function(){this.setState(c["default"].getSettings())},componentDidMount:function(){c["default"].addChangeListener(this._onChange)},componentWillUnmount:function(){c["default"].removeChangeListener(this._onChange)},handleSubmit:function(e){e.preventDefault();var t=i["default"].findDOMNode(this.refs.groupId).value.trim(),n=i["default"].findDOMNode(this.refs.groupSecret).value.trim();if(n&&t){var s=this.refs.userSelectContainer,r=s.refs.userSelect,o=i["default"].findDOMNode(r);f.saveSettings({groupId:t,groupSecret:n,userId:r?o.value:0,userName:r?a["default"](o).find("option:selected").text():""})}},render:function(){return i["default"].createElement("div",{className:"settings"},i["default"].createElement("form",{className:"form-horizontal",onSubmit:this.handleSubmit},i["default"].createElement("div",{className:"form-group"},i["default"].createElement("label",{className:"col-xs-3 control-label",htmlFor:"group-id"},"Group ID"),i["default"].createElement("div",{className:"col-xs-6"},i["default"].createElement(h["default"],{id:"group-id",ref:"groupId",defaultValue:this.state.groupId}))),i["default"].createElement("div",{className:"form-group"},i["default"].createElement("label",{className:"col-xs-3 control-label",htmlFor:"group-secret"},"Group Secret"),i["default"].createElement("div",{className:"col-xs-6"},i["default"].createElement(h["default"],{id:"group-secret",ref:"groupSecret",defaultValue:this.state.groupSecret}))),i["default"].createElement(S["default"],{ref:"userSelectContainer",userId:this.state.userId}),i["default"].createElement("div",{className:"btn-toolbar"},i["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-sm save-settings-btn"},"Save"),i["default"].createElement(u.Link,{to:"tracker",className:"btn btn-default btn-sm back-settings-btn"},"Back"))))}});n["default"]=T,t.exports=n["default"]},{"../actions/SettingsActions":4,"../stores/SettingsStore":23,"../stores/SettingsUsersStore":24,"./SelectInput.react":8,"./TextInput.react":13,"./UserSelectContainer.react":15,jquery:"jquery",react:"react","react-router":"react-router"}],10:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),a=s(r),o=e("underscore"),i=e("../actions/TrackerActions"),u=e("../stores/MilestoneStore"),l=s(u),c=e("../stores/MilestoneTaskStore"),d=s(c),f=e("../stores/TaskStore"),p=s(f),h=e("./SelectInput.react"),m=s(h),g=e("./TaskTypeSelectContainer.react"),S=s(g),T=a["default"].createClass({displayName:"TaskSelectContainer",getTasksState:function(){return{tasks:d["default"].getMilestoneTasks(),task:d["default"].getMilestoneTaskId(),description:p["default"].getTaskDescription()}},getInitialState:function(){return this.getTasksState()},_onChange:function(){this.isMounted()&&this.setState(this.getTasksState())},componentDidMount:function(){i.getMilestoneTasks(l["default"].getMilestoneId()),d["default"].addChangeListener(this._onChange),p["default"].addChangeListener(this._onChange)},componentWillUnmount:function(){d["default"].removeChangeListener(this._onChange),p["default"].removeChangeListener(this._onChange)},handleMilestoneTaskChange:function(e){var t=e.currentTarget;i.setMilestoneTask(t.value)},handleTaskDescriptionChange:function(e){i.setTaskDescription(e.target.value)},render:function(){if(this.state.tasks.length>0&&-1!=this.state.task){var e=o.clone(this.state.tasks);return e.push({id:-1,description:"New task..."}),a["default"].createElement("div",{className:"form-group"},a["default"].createElement("label",{className:"col-xs-3 control-label",htmlFor:"milestone-task"},"Todo"),a["default"].createElement("div",{className:"col-xs-6"},a["default"].createElement(m["default"],{id:"milestone-task",ref:"milestoneTask",labelKey:"description",value:this.state.task,options:e,onChange:this.handleMilestoneTaskChange})))}return a["default"].createElement("div",{className:"custom-task"},a["default"].createElement("div",{className:"form-group"},a["default"].createElement("label",{className:"col-xs-3 control-label",htmlFor:"task-type"},"Type"),a["default"].createElement("div",{className:"col-xs-6"},a["default"].createElement(S["default"],null))),a["default"].createElement("div",{className:"form-group"},a["default"].createElement("div",{className:"col-xs-12"},a["default"].createElement("textarea",{id:"task-description",placeholder:"Task description...",className:"form-control",rows:"3",value:this.state.description,onChange:this.handleTaskDescriptionChange}))))}});n["default"]=T,t.exports=n["default"]},{"../actions/TrackerActions":5,"../stores/MilestoneStore":20,"../stores/MilestoneTaskStore":21,"../stores/TaskStore":25,"./SelectInput.react":8,"./TaskTypeSelectContainer.react":11,react:"react",underscore:"underscore"}],11:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),a=s(r),o=e("../actions/TrackerActions"),i=e("../stores/TaskTypeStore"),u=s(i),l=e("./SelectInput.react"),c=s(l),d=a["default"].createClass({displayName:"TaskTypeSelectContainer",getTasksState:function(){return{taskTypes:u["default"].getTaskTypes(),taskType:u["default"].getTaskTypeId()}},getInitialState:function(){return this.getTasksState()},_onChange:function(){this.isMounted()&&this.setState(this.getTasksState())},componentDidMount:function(){o.getTaskTypes(),u["default"].addChangeListener(this._onChange)},componentWillUnmount:function(){u["default"].removeChangeListener(this._onChange)},handleChange:function(e){var t=e.currentTarget;o.setTaskType(t.value)},render:function(){return a["default"].createElement(c["default"],{id:"task-type",ref:"taskType",labelKey:"name",value:this.state.taskType,options:this.state.taskTypes,onChange:this.handleChange})}});n["default"]=d,t.exports=n["default"]},{"../actions/TrackerActions":5,"../stores/TaskTypeStore":26,"./SelectInput.react":8,react:"react"}],12:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),a=s(r),o=e("react-router"),i=(s(o),e("events"),e("flux"),nodeRequire("nw.gui")),u=a["default"].createClass({displayName:"TeamleaderTimeApp",render:function(){function e(){i.Window.get().showDevTools()}var t=a["default"].createElement("a",{href:"javascript:;",className:"dev-link",onClick:e},a["default"].createElement("i",{className:"fa fa-wrench"}));return a["default"].createElement("div",{className:"app"},a["default"].createElement("header",null,a["default"].createElement("div",{className:"headerext"}),a["default"].createElement(o.Link,{to:"settings",className:"settings-link",activeClassName:"active"},a["default"].createElement("i",{className:"fa fa-cog"})),t),a["default"].createElement("div",{className:"container"},a["default"].createElement(o.RouteHandler,null)))}});n["default"]=u,t.exports=n["default"]},{events:30,flux:"flux",react:"react","react-router":"react-router"}],13:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},a=e("react"),o=s(a),i=o["default"].createClass({displayName:"TextInput",render:function(){return o["default"].createElement("input",r({},this.props,{type:"text",className:"form-control"}))}});n["default"]=i,t.exports=n["default"]},{react:"react"}],14:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),a=s(r),o=e("../utils/Utils"),i=e("../stores/CustomerStore"),u=(s(i),e("../stores/ProjectStore")),l=s(u),c=e("../stores/MilestoneStore"),d=(s(c),e("../stores/MilestoneTaskStore")),f=s(d),p=e("../stores/TaskTypeStore"),h=(s(p),e("../stores/SettingsStore")),m=(s(h),e("../stores/TaskStore")),g=s(m),S=e("../stores/TimeStore"),T=s(S),_=e("./ProjectSelectContainer.react"),v=s(_),E=e("./MilestoneSelectContainer.react"),k=s(E),y=e("./TaskSelectContainer.react"),C=s(y),M=e("../actions/TrackerActions"),b=a["default"].createClass({displayName:"Tracker",getTrackerState:function(){return{isTiming:T["default"].isTiming(),seconds:T["default"].getSecondsElapsed()}},getInitialState:function(){return this.getTrackerState()},_onChange:function(){this.isMounted()&&this.setState(this.getTrackerState())},componentDidMount:function(){T["default"].addChangeListener(this._onChange)},componentWillUnmount:function(){T["default"].removeChangeListener(this._onChange)},handleStart:function(e){e.preventDefault();var t=Math.floor(Date.now()/1e3);M.startTimer(t)},handleStop:function(e){e.preventDefault();var t=Math.floor(Date.now()/1e3);M.stopTimer(t)},render:function(){return this.state.isTiming?a["default"].createElement("div",{className:"tracker"},a["default"].createElement("form",{className:"",onSubmit:this.handleStop},a["default"].createElement("div",{className:"tracker-meta"},a["default"].createElement("div",{className:"tracker-project"},l["default"].getProjectTitle()||"Untitled project"),a["default"].createElement("div",{className:"tracker-task"},f["default"].getMilestoneTaskDescription()||g["default"].getTaskDescription()||"No task description")),a["default"].createElement("div",{className:"form-group"},a["default"].createElement("input",{type:"text",className:"form-control tracker-time",disabled:!0,value:o.formatTime(this.state.seconds)})),a["default"].createElement("div",{className:"btn-toolbar"},a["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-sm stop-timer-btn"},"Stop timer")))):a["default"].createElement("div",{className:"tracker"},a["default"].createElement("form",{className:"form-horizontal",onSubmit:this.handleStart},a["default"].createElement(v["default"],null),a["default"].createElement(k["default"],null),a["default"].createElement(C["default"],{ref:"taskSelectContainer"}),a["default"].createElement("div",{className:"btn-toolbar"},a["default"].createElement("button",{type:"submit",className:"btn btn-primary btn-sm start-timer-btn"},"Start timer"))))}});n["default"]=b,t.exports=n["default"]},{"../actions/TrackerActions":5,"../stores/CustomerStore":19,"../stores/MilestoneStore":20,"../stores/MilestoneTaskStore":21,"../stores/ProjectStore":22,"../stores/SettingsStore":23,"../stores/TaskStore":25,"../stores/TaskTypeStore":26,"../stores/TimeStore":27,"../utils/Utils":29,"./MilestoneSelectContainer.react":6,"./ProjectSelectContainer.react":7,"./TaskSelectContainer.react":10,react:"react"}],15:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("react"),a=s(r),o=e("react-router"),i=(s(o),e("../stores/SettingsStore")),u=(s(i),e("../stores/SettingsUsersStore")),l=s(u),c=e("../actions/SettingsActions"),d=e("./SelectInput.react"),f=s(d),p=a["default"].createClass({displayName:"UserSelectContainer",getUsersState:function(){return{users:l["default"].getUsers()}},getInitialState:function(){return this.getUsersState()},_onChange:function(){this.isMounted()&&this.setState(this.getUsersState())},componentDidMount:function(){c.getUsers(),l["default"].addChangeListener(this._onChange)},componentWillUnmount:function(){l["default"].removeChangeListener(this._onChange)},render:function(){return 0===this.state.users.length?null:a["default"].createElement("div",{className:"form-group"},a["default"].createElement("label",{className:"col-xs-3 control-label",htmlFor:"user-select"},"Select user"),a["default"].createElement("div",{className:"col-xs-6"},a["default"].createElement(f["default"],{id:"user-select",ref:"userSelect",labelKey:"name",options:this.state.users,defaultValue:this.props.userId})))}});n["default"]=p,t.exports=n["default"]},{"../actions/SettingsActions":4,"../stores/SettingsStore":23,"../stores/SettingsUsersStore":24,"./SelectInput.react":8,react:"react","react-router":"react-router"}],16:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("keymirror"),a=s(r);n["default"]=a["default"]({SAVE_SETTINGS:null,RECEIVE_USERS:null}),t.exports=n["default"]},{keymirror:"keymirror"}],17:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("keymirror"),a=s(r);n["default"]=a["default"]({RECEIVE_PROJECTS:null,RECEIVE_MILESTONES:null,RECEIVE_MILESTONE_TASKS:null,RECEIVE_TASK_TYPES:null,SET_PROJECT:null,SET_MILESTONE:null,SET_MILESTONE_TASK:null,SET_CONTACT_OR_COMPANY:null,SET_TASK_TYPE:null,SET_TASK_DESCRIPTION:null,START_TIMER:null,STOP_TIMER:null}),t.exports=n["default"]},{keymirror:"keymirror"}],18:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var s=e("flux");n["default"]=new s.Dispatcher,t.exports=n["default"]},{flux:"flux"}],19:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r,a,o=e("../utils/StoreUtils"),i=e("../dispatcher/AppDispatcher"),u=s(i),l=e("../constants/TrackerConstants"),c=s(l),d=o.createStore({getContactOrCompany:function(){return r},getContactOrCompanyId:function(){return a}});d.dispatchToken=u["default"].register(function(e){switch(e.type){case c["default"].SET_CONTACT_OR_COMPANY:r=e.option,a=e.id,d.emitChange()}}),n["default"]=d,t.exports=n["default"]},{"../constants/TrackerConstants":17,"../dispatcher/AppDispatcher":18,"../utils/StoreUtils":28}],20:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("underscore"),o=e("../utils/StoreUtils"),i=e("../dispatcher/AppDispatcher"),u=s(i),l=e("../constants/TrackerConstants"),c=s(l),d=e("../actions/TrackerActions"),f=e("../stores/ProjectStore"),p=s(f),h=[],m=o.createStore({getMilestones:function(){return h},getMilestoneId:function(){return r},getMilestone:function(){return a.findWhere(h,{id:r})}});m.dispatchToken=u["default"].register(function(e){switch(e.type){case c["default"].SET_PROJECT:u["default"].waitFor([p["default"].dispatchToken]),h=[],r=0,0==p["default"].getProjectId()&&m.emitChange();break;case c["default"].RECEIVE_MILESTONES:h=e.data,h.length>0&&(r=parseInt(h[0].id)),m.emitChange(),d.getMilestoneTasks(r);break;case c["default"].SET_MILESTONE:r=parseInt(e.id),m.emitChange(),d.getMilestoneTasks(r)}}),n["default"]=m,t.exports=n["default"]},{"../actions/TrackerActions":5,"../constants/TrackerConstants":17,"../dispatcher/AppDispatcher":18,"../stores/ProjectStore":22,"../utils/StoreUtils":28,underscore:"underscore"}],21:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("underscore"),o=e("../utils/StoreUtils"),i=e("../dispatcher/AppDispatcher"),u=s(i),l=e("../constants/TrackerConstants"),c=s(l),d=e("../stores/ProjectStore"),f=s(d),p=e("../stores/MilestoneStore"),h=s(p),m=[],g=o.createStore({getMilestoneTasks:function(){return m},getMilestoneTaskId:function(){return r},getMilestoneTask:function(){return a.findWhere(m,{id:r})},getMilestoneTaskDescription:function(){var e=this.getMilestoneTask();return e?e.description:null}});g.dispatchToken=u["default"].register(function(e){switch(e.type){case c["default"].SET_PROJECT:case c["default"].SET_MILESTONE:u["default"].waitFor([h["default"].dispatchToken]),m=[],r=0,0==f["default"].getProjectId()&&g.emitChange();break;case c["default"].RECEIVE_MILESTONE_TASKS:m=e.data,m.length>0&&(r=parseInt(m[0].id)),g.emitChange();break;case c["default"].SET_MILESTONE_TASK:r=parseInt(e.id),g.emitChange()}}),n["default"]=g,t.exports=n["default"]},{"../constants/TrackerConstants":17,"../dispatcher/AppDispatcher":18,"../stores/MilestoneStore":20,"../stores/ProjectStore":22,"../utils/StoreUtils":28,underscore:"underscore"}],22:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("underscore"),o=e("../utils/StoreUtils"),i=e("../dispatcher/AppDispatcher"),u=s(i),l=e("../constants/TrackerConstants"),c=s(l),d=e("../actions/TrackerActions"),f=[],p=o.createStore({getProjects:function(){return f},getProjectId:function(){return r},getProject:function(){return a.findWhere(f,{id:r})},getProjectTitle:function(){var e=this.getProject();return e?e.title:null}});p.dispatchToken=u["default"].register(function(e){switch(e.type){case c["default"].RECEIVE_PROJECTS:f=e.data,p.emitChange();break;case c["default"].SET_PROJECT:r=parseInt(e.id),p.emitChange(),d.getProjectDetails(r),d.getMilestones(r)}}),n["default"]=p,t.exports=n["default"]},{"../actions/TrackerActions":5,"../constants/TrackerConstants":17,"../dispatcher/AppDispatcher":18,"../utils/StoreUtils":28,underscore:"underscore"}],23:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=o["default"].extend({},f.getSettings(),e);localStorage.setItem("settings",JSON.stringify(t))}Object.defineProperty(n,"__esModule",{value:!0});var a=e("jquery"),o=s(a),i=e("../utils/StoreUtils"),u=e("../dispatcher/AppDispatcher"),l=s(u),c=e("../constants/SettingsConstants"),d=s(c),f=i.createStore({getSettings:function(){return JSON.parse(localStorage.getItem("settings"))||{}},getUserId:function(){return parseInt(this.getSettings().userId)}});f.dispatchToken=l["default"].register(function(e){switch(e.type){case d["default"].SAVE_SETTINGS:r(e.data),f.emitChange()}}),n["default"]=f,t.exports=n["default"]},{"../constants/SettingsConstants":16,"../dispatcher/AppDispatcher":18,"../utils/StoreUtils":28,jquery:"jquery"}],24:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r=e("../utils/StoreUtils"),a=e("../dispatcher/AppDispatcher"),o=s(a),i=e("../constants/SettingsConstants"),u=s(i),l=e("../actions/SettingsActions"),c=e("./SettingsStore"),d=s(c),f=[],p=r.createStore({getUsers:function(){return f}});p.dispatchToken=o["default"].register(function(e){switch(e.type){case u["default"].SAVE_SETTINGS:o["default"].waitFor([d["default"].dispatchToken]),l.getUsers();break;case u["default"].RECEIVE_USERS:f=e.data,p.emitChange()}}),n["default"]=p,t.exports=n["default"]},{"../actions/SettingsActions":4,"../constants/SettingsConstants":16,"../dispatcher/AppDispatcher":18,"../utils/StoreUtils":28,"./SettingsStore":23}],25:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("../utils/StoreUtils"),o=e("../dispatcher/AppDispatcher"),i=s(o),u=e("../constants/TrackerConstants"),l=s(u),c=e("../stores/MilestoneTaskStore"),d=(s(c),a.createStore({getTaskDescription:function(){return r}}));d.dispatchToken=i["default"].register(function(e){switch(e.type){case l["default"].SET_TASK_DESCRIPTION:r=e.txt,d.emitChange()}}),n["default"]=d,t.exports=n["default"]},{"../constants/TrackerConstants":17,"../dispatcher/AppDispatcher":18,"../stores/MilestoneTaskStore":21,"../utils/StoreUtils":28}],26:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(n,"__esModule",{value:!0});var r,a=e("underscore"),o=e("../utils/StoreUtils"),i=e("../dispatcher/AppDispatcher"),u=s(i),l=e("../constants/TrackerConstants"),c=s(l),d=e("../stores/MilestoneTaskStore"),f=s(d),p=[],h=o.createStore({getTaskTypes:function(){return p},getTaskTypeId:function(){return r},getTaskType:function(){return a.findWhere(p,{id:r})}});h.dispatchToken=u["default"].register(function(e){switch(e.type){case c["default"].RECEIVE_TASK_TYPES:p=e.data,p.length>0&&(r=parseInt(p[0].id)),h.emitChange();break;case c["default"].SET_TASK_TYPE:r=parseInt(e.id),h.emitChange();break;case c["default"].RECEIVE_MILESTONE_TASKS:case c["default"].SET_MILESTONE_TASK:u["default"].waitFor([f["default"].dispatchToken]);var t=f["default"].getMilestoneTask();if(t){var n=t.task_type,s=a.findWhere(p,{name:n});if(s){var o=s.id;r=o}}}}),n["default"]=h,t.exports=n["default"]},{"../constants/TrackerConstants":17,"../dispatcher/AppDispatcher":18,"../stores/MilestoneTaskStore":21,"../utils/StoreUtils":28,underscore:"underscore"}],27:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(){var e=Math.floor(Date.now()/1e3);p=e-o,h.emitChange()}Object.defineProperty(n,"__esModule",{value:!0});var a,o,i=e("../utils/StoreUtils"),u=e("../dispatcher/AppDispatcher"),l=s(u),c=e("../constants/TrackerConstants"),d=s(c),f=!1,p=0,h=i.createStore({isTiming:function(){return f},getSecondsElapsed:function(){return p}});h.dispatchToken=l["default"].register(function(e){switch(e.type){case d["default"].START_TIMER:o=e.timestamp,f=!0,clearInterval(a),a=setInterval(r,1e3),h.emitChange();break;case d["default"].STOP_TIMER:{e.timestamp}p=0,f=!1,clearInterval(a),h.emitChange()}}),n["default"]=h,t.exports=n["default"]},{"../constants/TrackerConstants":17,"../dispatcher/AppDispatcher":18,"../utils/StoreUtils":28}],28:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t=new u.EventEmitter;t.setMaxListeners(0);var n=o["default"]({emitChange:function(){t.emit(l)},addChangeListener:function(e){t.on(l,e)},removeChangeListener:function(e){t.removeListener(l,e)}},e);return i.each(n,function(e,t){i.isFunction(e)&&(n[t]=n[t].bind(n))}),n}Object.defineProperty(n,"__esModule",{value:!0}),n.createStore=r;var a=e("object-assign"),o=s(a),i=e("underscore"),u=e("events"),l="change"},{events:30,"object-assign":"object-assign",underscore:"underscore"}],29:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}function r(e){var t={type:"POST",dataType:"json",data:{},error:function(t,n,s){console.error(e.url,n,s.toString())}},n=d["default"].getSettings();n&&(t.data={api_group:n.groupId,api_secret:n.groupSecret});var s=l["default"].extend(!0,t,e);s.data.api_group&&s.data.api_secret&&l["default"].ajax("https://www.teamleader.be/api"+e.url,s);

}function a(e,t){for(var n=0;n<e.length;n++){var s=e[n];for(var r in t){var a=t[r],o=s[r];o&&(s[a]=o,delete s[r])}}return e}function o(e){return e.replace(/&amp;/g,"&").replace(/&#039;/g,"'")}function i(e){var t=parseInt(e/3600,10),n=parseInt(e%3600/60,10),s=parseInt(e%3600%60,10);return(0===t?"":10>t?"0"+t+":":t+":")+(10>n?"0"+n:""+n)+":"+(10>s?"0"+s:""+s)}Object.defineProperty(n,"__esModule",{value:!0}),n.apiRequest=r,n.rekey=a,n.htmlEntities=o,n.formatTime=i;var u=e("jquery"),l=s(u),c=e("../stores/SettingsStore"),d=s(c)},{"../stores/SettingsStore":23,jquery:"jquery"}],30:[function(e,t,n){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function a(e){return"number"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}t.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(e){if(!a(e)||0>e||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},s.prototype.emit=function(e){var t,n,s,a,u,l;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if(t=arguments[1],t instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(n=this._events[e],i(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:for(s=arguments.length,a=new Array(s-1),u=1;s>u;u++)a[u-1]=arguments[u];n.apply(this,a)}else if(o(n)){for(s=arguments.length,a=new Array(s-1),u=1;s>u;u++)a[u-1]=arguments[u];for(l=n.slice(),s=l.length,u=0;s>u;u++)l[u].apply(this,a)}return!0},s.prototype.addListener=function(e,t){var n;if(!r(t))throw TypeError("listener must be a function");if(this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned){var n;n=i(this._maxListeners)?s.defaultMaxListeners:this._maxListeners,n&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace())}return this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(e,t){function n(){this.removeListener(e,n),s||(s=!0,t.apply(this,arguments))}if(!r(t))throw TypeError("listener must be a function");var s=!1;return n.listener=t,this.on(e,n),this},s.prototype.removeListener=function(e,t){var n,s,a,i;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],a=n.length,s=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(i=a;i-->0;)if(n[i]===t||n[i].listener&&n[i].listener===t){s=i;break}if(0>s)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(s,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},s.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[e],r(n))this.removeListener(e,n);else for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},s.prototype.listeners=function(e){var t;return t=this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},s.listenerCount=function(e,t){var n;return n=e._events&&e._events[t]?r(e._events[t])?1:e._events[t].length:0}},{}],31:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{"default":e}}var r=e("./Routes"),a=s(r),o=e("./StatusBar"),i=s(o),u=e("./MenuBar"),l=s(u);new i["default"],new l["default"],new a["default"]},{"./MenuBar":1,"./Routes":2,"./StatusBar":3}]},{},[31]);